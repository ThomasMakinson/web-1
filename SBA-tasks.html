<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SBA practice</title>
</head>

<body>

    <aside>
        <!-- Your select element will go here -->
        <label for="sizeFilter"><strong>Filter by size:</strong></label>
        <select id="sizeFilter">
            <option value="All">All</option>
        </select>
    </aside>

<!-- TASK 1 (6 points) --------------------------------------------------------------------------------
    Below you will find some data about a dog, including an image URL.
    There is some HTML for a card that displays the dog data, but someone has hard coded it.
    
    1. Write JavaScript in the script tags below to display the dog data in the card instead - you can
    edit the HTML as much as you need to, but try to leave it as tidy and maintainable as possible.
    
    2. Write CSS to style the card to look like the reference image. Hints:
        The text colour is #333
        The h2 is 1.5 times as big as the base font size
        The h3s are 1.2 times as big as the base font size
        Use CSS to make all the headings uppercase
        Use flexbox to lay out the card

    3. Make a commit after you have completed this task.

-->
    <script>
            // Select the card element
            const card = document.getElementById("single-card");

            // Clear any existing content in the card
            card.innerHTML = "";

            // Create and append the breed name (h2)
            const h2 = document.createElement("h2");
            h2.textContent = dog.breed;
            card.appendChild(h2);

            // Create and append the image
            const img = document.createElement("img");
            img.src = dog.image;
            img.alt = "dog";
            card.appendChild(img);

            // Create the info container
            const info = document.createElement("div");
            info.className = "info";

            // Origin
            const h3Origin = document.createElement("h3");
            h3Origin.textContent = "Origin";
            info.appendChild(h3Origin);
            const pOrigin = document.createElement("p");
            pOrigin.textContent = dog.origin;
            info.appendChild(pOrigin);

            // Size
            const h3Size = document.createElement("h3");
            h3Size.textContent = "Size";
            info.appendChild(h3Size);
            const pSize = document.createElement("p");
            pSize.textContent = dog.size;
            info.appendChild(pSize);

            // Temperament
            const h3Temp = document.createElement("h3");
            h3Temp.textContent = "Temperament";
            info.appendChild(h3Temp);
            const ulTemp = document.createElement("ul");
            dog.temperament.forEach(temp => {
                const li = document.createElement("li");
                li.textContent = temp;
                ulTemp.appendChild(li);
            });
            info.appendChild(ulTemp);

            // Append info to card
            card.appendChild(info);

        </script>

    <style>
        /* Write your styles here (I"m giving you some for free too) */
        .card {
            width: 300px;
            border: 1px solid #333;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #fff;
            color: #333;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border-radius: 8px;
        }
        .card h2 {
            font-size: 1.5em;
            text-transform: uppercase;
            margin: 0.5em 0;
            letter-spacing: 1px;
        }
        .card h3 {
            font-size: 1.2em;
            text-transform: uppercase;
            margin: 0.5em 0 0.2em 0;
            letter-spacing: 1px;
        }
        .card img {
            width: 100%;
            height: auto;
            border-radius: 6px;
            margin-bottom: 10px;
            object-fit: cover;
        }
        .info {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        .info ul {
            margin: 0;
            padding-left: 20px;
        }
        .info p {
            margin: 0 0 0.5em 0;
        }
    </style>


<!-- TASK 2 (6 points) ---------------------------------------------------------------------------------------
    Now we want a whole lot of dogs at once!

    1. You need to fetch the dog data from the API at https://web1-z04e.onrender.com/dogs

    2. Loop through the data and generate a card for each dog

    3. Use the same card design as above, making sure all the cards are the same size and shape
        Try to do this without hard coding the height 

    4. Place the cards in three columns, with as many rows as needed

    5. Make a commit after you have completed this task
-->
    <div class="cards">
        <!-- Your cards will be here -->
    </div>

    <script>
        // Select the container for all cards
        const cardsContainer = document.querySelector(".cards");

        // Fetch dog data from the API
        fetch("https://web1-z04e.onrender.com/dogs")
            .then(response => response.json()) // Parse the response as JSON
            .then(dogs => {
                // For each dog, create a card and add it to the container
                dogs.forEach(dog => {
                    // Create the card element
                    const card = document.createElement("div");
                    card.className = "card";

                    // Breed name
                    const h2 = document.createElement("h2");
                    h2.textContent = dog.breed;
                    card.appendChild(h2);

                    // Dog image
                    const img = document.createElement("img");
                    img.src = dog.image;
                    img.alt = "dog";
                    card.appendChild(img);

                    // Info section
                    const info = document.createElement("div");
                    info.className = "info";

                    // Origin
                    const h3Origin = document.createElement("h3");
                    h3Origin.textContent = "Origin";
                    info.appendChild(h3Origin);
                    const pOrigin = document.createElement("p");
                    pOrigin.textContent = dog.origin;
                    info.appendChild(pOrigin);

                    // Size
                    const h3Size = document.createElement("h3");
                    h3Size.textContent = "Size";
                    info.appendChild(h3Size);
                    const pSize = document.createElement("p");
                    pSize.textContent = dog.size;
                    info.appendChild(pSize);

                    // Temperament
                    const h3Temp = document.createElement("h3");
                    h3Temp.textContent = "Temperament";
                    info.appendChild(h3Temp);
                    const ulTemp = document.createElement("ul");
                    dog.temperament.forEach(temp => {
                        const li = document.createElement("li");
                        li.textContent = temp;
                        ulTemp.appendChild(li);
                    });
                    info.appendChild(ulTemp);

                    // Add info to card
                    card.appendChild(info);

                    // Add card to container
                    cardsContainer.appendChild(card);
                });
            });

    </script>

    <style>
        /* Write your styles here, without changing the card styles you already wrote above (they will still apply - use the cascade) */
        .cards {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }
        .card {
            flex: 1 1 300px;
            max-width: 300px;
            box-sizing: border-box;
        }

    </style>


<!-- TASK 3 (3 points) ---------------------------------------------------------------------------------------
    Now we want to be able to filter the dogs by size.

    1. Add a select element in the aside element below, with options for all the different sizes of dogs

    2. When a user selects a size, only the dogs of that size should be displayed

    3. If the user selects "All", all the dogs should be displayed

    4. The cards should be laid out in the same way as above, but use CSS to place the aside
        element at the top of the page (don't move the HTML)

    5. Make a commit after you have completed this task
-->

    <script>
        // Store all dogs globally for filtering
        let allDogs = [];

        // Reference to the select element and cards container
        const select = document.getElementById("sizeFilter");

        // Fetch dog data from the API
        fetch("https://web1-z04e.onrender.com/dogs")
            .then(response => response.json())
            .then(dogs => {
                allDogs = dogs; // Save all dogs for filtering

                // Get unique sizes for the select options
                const sizes = Array.from(new Set(dogs.map(dog => dog.size)));
                sizes.sort();

                // Add size options to the select element
                sizes.forEach(size => {
                    const option = document.createElement("option");
                    option.value = size;
                    option.textContent = size;
                    select.appendChild(option);
                });

                // Initially show all dogs
                renderCards(allDogs);
            });

        // Listen for changes to the select element
        select.addEventListener("change", function () {
            const selectedSize = select.value;
            if (selectedSize === "All") {
                renderCards(allDogs);
            } else {
                const filteredDogs = allDogs.filter(dog => dog.size === selectedSize);
                renderCards(filteredDogs);
            }
        });

        // Function to render dog cards
        function renderCards(dogs) {
            cardsContainer.innerHTML = "";
            dogs.forEach(dog => {
                const card = document.createElement("div");
                card.className = "card";

                const h2 = document.createElement("h2");
                h2.textContent = dog.breed;
                card.appendChild(h2);

                const img = document.createElement("img");
                img.src = dog.image;
                img.alt = "dog";
                card.appendChild(img);

                const info = document.createElement("div");
                info.className = "info";

                const h3Origin = document.createElement("h3");
                h3Origin.textContent = "Origin";
                info.appendChild(h3Origin);
                const pOrigin = document.createElement("p");
                pOrigin.textContent = dog.origin;
                info.appendChild(pOrigin);

                const h3Size = document.createElement("h3");
                h3Size.textContent = "Size";
                info.appendChild(h3Size);
                const pSize = document.createElement("p");
                pSize.textContent = dog.size;
                info.appendChild(pSize);

                const h3Temp = document.createElement("h3");
                h3Temp.textContent = "Temperament";
                info.appendChild(h3Temp);
                const ulTemp = document.createElement("ul");
                dog.temperament.forEach(temp => {
                    const li = document.createElement("li");
                    li.textContent = temp;
                    ulTemp.appendChild(li);
                });
                info.appendChild(ulTemp);

                card.appendChild(info);
                cardsContainer.appendChild(card);
            });
        }

    </script>

    <style>
        /* Write your styles here */
        aside {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            position: sticky;
            top: 0;
            background: #fff;
            z-index: 100;
            padding: 16px 0 8px 0;
        }
        aside label {
            font-weight: bold;
            margin-right: 8px;
        }
        aside select {
            font-size: 1em;
            padding: 6px 12px;
            border-radius: 4px;
            color: #333;
            background: #f9f9f9;
            margin: 10px;
        }

    </style>
</body>

</html>
